<template>
	<div>
		<div v-if="isLoggedIn" >

			<!-- <transactions-header-graph v-bind:session="this.$quid.session"></transactions-header-graph> -->
			
			<transaction-modal></transaction-modal>
			<transaction-bar
				v-bind:session="this.$quid_bg.data"
			></transaction-bar>
			
			<transaction-header
				v-bind:session="this.$quid_bg.data">
			</transaction-header>
			<transactions-input ></transactions-input>
			<history-view 
				v-bind:session="this.$quid_bg.data">	
			</history-view>

		</div>

		<div v-else>
			
			<div class="logo">
				
				<svg class="logo-full" height="100%" viewBox="0 0 379 244" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
					<path class="colour-primary" id="logo_svg" d="M216.242,224.774c0,1.966 1.001,2.949 3.005,2.949c2.004,0 3.686,-0.378 5.047,-1.134l-0.567,12.816c-3.629,2.949 -7.712,4.424 -12.249,4.424c-6.881,0 -11.342,-1.588 -13.384,-4.764c-1.285,-2.042 -1.928,-4.272 -1.928,-6.692c0,-2.42 0.151,-4.537 0.454,-6.351l10.798,-65.311l19.281,0l-10.344,62.702c-0.076,0.454 -0.113,0.907 -0.113,1.361Zm45.423,-38.677c8.167,0 14.329,1.777 18.488,5.331c3.251,2.798 4.877,6.692 4.877,11.682c0,1.664 -0.189,3.479 -0.567,5.445l-2.382,13.27c-1.437,8.015 -4.782,13.686 -10.038,17.013c-5.255,3.327 -12.268,4.991 -21.039,4.991c-8.772,0 -15.199,-1.664 -19.282,-4.991c-3.024,-2.495 -4.537,-6.238 -4.537,-11.229c0,-1.739 0.189,-3.667 0.567,-5.784l2.382,-13.27c2.647,-14.972 13.157,-22.458 31.531,-22.458Zm115.367,1.588c1.059,3.176 1.588,7.391 1.588,12.647c0,5.255 -0.643,10.302 -1.928,15.141c-1.286,4.84 -3.233,9.433 -5.841,13.781c-2.609,4.348 -6.239,7.864 -10.889,10.548c-4.65,2.684 -10,4.027 -16.049,4.027c-9.074,0 -15.123,-2.533 -18.147,-7.6c-5.445,5.067 -11.531,7.6 -18.261,7.6c-9.074,0 -15.312,-1.929 -18.715,-5.785c-2.268,-2.571 -3.402,-6.389 -3.402,-11.455c0,-2.647 0.302,-5.596 0.907,-8.847l5.331,-30.057l19.282,0l-5.331,30.17c-0.227,1.134 -0.341,2.155 -0.341,3.063c0,4.31 2.231,6.465 6.692,6.465c3.1,0 5.445,-1.343 7.032,-4.027c1.588,-2.684 2.949,-7.391 4.084,-14.121l3.856,-21.55l19.281,0l-5.33,30.17c-0.227,1.134 -0.341,2.155 -0.341,3.063c0,4.31 2.231,6.465 6.692,6.465c7.864,0 11.796,-8.242 11.796,-24.726c0,-3.857 -0.302,-8.129 -0.907,-12.817l-0.341,-2.155l19.282,0Zm-291.149,24.48c-19.495,-1.266 -51.076,-9.055 -50.159,-53.03c-23.816,-3.608 -35.724,-16.671 -35.724,-39.188c0,-4.763 0.505,-9.888 1.516,-15.372l8.876,-49.798c6.496,-36.518 30.023,-54.777 70.583,-54.777c34.93,0 52.395,13.568 52.395,40.704c0,4.33 -0.433,9.021 -1.299,14.073l-8.877,49.798c-2.886,16.743 -8.84,29.625 -17.862,38.647c-9.021,9.021 -21.615,14.47 -37.781,16.346c-0.329,36.274 21.479,34.901 31.294,34.901l0,0.036l41.908,0l5.122,-29.278c0.47,-2.688 2.804,-4.649 5.533,-4.649c13.672,0 52.337,0 52.337,0l-3.176,17.693l-36.522,0l-2.835,16.333l30.17,0l-3.062,17.694l-30.17,0l-5.218,29.943l-20.529,0l5.233,-29.913l-38.791,0l0,0.016c-2.001,0 -5.41,0.125 -9.64,-0.016l-2.016,0c-0.446,-0.012 -0.882,-0.068 -1.306,-0.163Zm178.845,-1.342c0.151,-0.756 0.227,-1.72 0.227,-2.892c0,-1.172 -0.492,-2.477 -1.475,-3.913c-0.983,-1.437 -2.703,-2.155 -5.161,-2.155c-2.457,0 -4.518,0.813 -6.181,2.438c-1.664,1.626 -2.722,3.8 -3.176,6.522l-1.474,8.507c-0.152,0.756 -0.227,1.72 -0.227,2.892c0,1.172 0.491,2.438 1.474,3.8c0.983,1.361 2.703,2.041 5.161,2.041c2.457,0 4.518,-0.851 6.181,-2.552c1.664,-1.701 2.722,-3.762 3.176,-6.181l1.475,-8.507Zm-31.818,-81.277c1.929,0 3.649,-0.419 5.158,-1.258l-0.629,14.216c-3.942,3.271 -8.429,4.907 -13.461,4.907c-7.633,0 -12.581,-1.761 -14.846,-5.284c-1.509,-2.348 -2.264,-4.844 -2.264,-7.486c0,-2.642 0.167,-4.969 0.503,-6.982l7.549,-42.524l21.387,0l-7.045,39.63c-0.084,0.504 -0.126,0.965 -0.126,1.384c0,2.265 1.258,3.397 3.774,3.397Zm-39.085,-3.271c0,2.181 1.112,3.271 3.334,3.271c2.223,0 4.089,-0.419 5.599,-1.258l-0.629,14.216c-4.026,3.271 -8.555,4.907 -13.588,4.907c-9.477,0 -14.635,-3.648 -15.474,-10.945c-5.032,7.297 -11.805,10.945 -20.318,10.945c-8.513,0 -14.028,-1.929 -16.544,-5.787c-1.678,-2.433 -2.516,-5.2 -2.516,-8.304c0,-3.103 0.251,-5.955 0.754,-8.555l7.046,-39.63l21.387,0l-5.913,33.466c-0.251,1.509 -0.377,3.019 -0.377,4.529c0,4.026 2.264,6.039 6.794,6.039c3.774,0 6.793,-1.3 9.058,-3.9l7.171,-40.134l21.388,0l-7.046,39.63c-0.084,0.504 -0.126,1.007 -0.126,1.51Zm106.729,0c0,2.181 1.111,3.271 3.334,3.271c2.222,0 4.089,-0.419 5.598,-1.258l-0.629,14.216c-4.026,3.271 -8.555,4.907 -13.587,4.907c-9.226,0 -14.342,-3.355 -15.349,-10.065c-4.194,6.71 -10.358,10.065 -18.494,10.065c-13.755,0 -20.633,-5.913 -20.633,-17.739c0,-2.013 0.21,-4.236 0.629,-6.668l2.642,-14.72c1.342,-7.548 4.425,-13.566 9.247,-18.053c4.823,-4.488 11.512,-6.731 20.067,-6.731c5.284,0 9.478,1.132 12.581,3.397l6.416,-36.737l21.514,0l-13.21,74.605c-0.084,0.504 -0.126,1.007 -0.126,1.51Zm-37.24,-6.039c-0.168,0.755 -0.251,1.803 -0.251,3.145c0,1.342 0.629,2.663 1.887,3.963c1.258,1.3 3.376,1.95 6.353,1.95c2.978,0 5.557,-1.174 7.737,-3.522l3.775,-21.136c-0.923,-2.097 -3.104,-3.145 -6.542,-3.145c-6.459,0 -10.233,3.103 -11.323,9.309l-1.636,9.436Zm-204.856,6.639c7.217,0 12.99,-1.804 17.321,-5.413c4.33,-3.608 7.361,-10.248 9.093,-19.919l7.794,-43.735c0.433,-2.742 0.65,-5.196 0.65,-7.361c0,-11.259 -6.062,-16.888 -18.187,-16.888c-14.867,0.289 -23.672,8.372 -26.414,24.249l-7.578,43.735c-0.577,3.465 -0.866,7.073 -0.866,10.826c0,9.671 6.062,14.506 18.187,14.506Zm158.978,-62.247c0,-5.367 1.195,-9.289 3.585,-11.763c2.391,-2.474 6.102,-3.711 11.134,-3.711c7.046,0 10.568,3.103 10.568,9.31c0,5.284 -1.195,9.142 -3.585,11.574c-2.391,2.433 -6.144,3.649 -11.26,3.649c-6.962,0 -10.442,-3.02 -10.442,-9.059Z" style="fill-rule:nonzero;"/>
		</svg>


		<p class="strap-line text colour-text-light"> Expenses done simpler.
		</p>

	</div>
	
	</div>

	<!-- <div class="mid-section"> -->
		
		<!-- <div class="strap-line"></div> -->

		<!-- <div class="phone-mock">
			<img src="../assets/image_bg.png" style="width:100%;height:100%;">
		</div> -->

	<!-- </div> -->






			


			<!-- <intro></intro>	 -->

		<!-- </div> -->

		<!-- <div style="text-align:center;padding: 2rem;">
			<p class="text is-small" style="margin:0 !important;"> QuidFlow version 0.6.0. </p>
			<p class="text is-small" style="margin:0 !important;"> Enjoy. </p>		
		</div> -->

	</div>
</template>

<script>

	import Intro from './c_intro.vue';

	import History from './c_history.vue';
	
	// import Transactions from './p_transactions.vue';

	import TransactionBar from './c_transaction_bar.vue';
	import TransactionModal from './c_transaction_modal.vue';
	import TransactionInput from './c_transaction_input.vue';
	import TransactionHeader from './c_transaction_header.vue';
	
	// import TransactionHeaderGraph from './c_transaction_header_graph.vue';
	

	export default {
		name: 'Index',
		data () {
			return {
			}
		},
		computed: {
			isLoggedIn : function(){
				if( this.$auth.session !== undefined ){
					return this.$auth.session.active;					
				}
				return false;
			},
		},
		// methods : function(){

		// },
		// created : function(){
		// 	this.$root.$on('itemClicked', this.input );
		// },
		components: {
			'intro' : Intro,
			'history-view' : History,
			'transaction-bar' : TransactionBar,
			'transactions-input' : TransactionInput,
			'transaction-modal' : TransactionModal,			
			'transaction-header' : TransactionHeader,
			
			// 'transactions-header-graph' : TransactionHeaderGraph,
		},	
		// beforeRouteLeave (to, from, next) {
		// 	console.log('leaving.');
		// 	next();
		// }	
	}
</script>

<style scoped>
.logo{
	width: 100%;
	text-align: right;
}
.logo-full{
	width: 18rem;
	text-align: right;
	margin-right: 1rem;
	/*margin: 1rem;*/
}

.mid-section{
	/*margin: 16rem 0;*/
	margin-top: 18rem;
	margin-bottom: 10rem;
	height: 1rem;
	width: 100%;
	position: relative;
	text-align: right;
}
.strap-line{
	/*display: none;*/
	margin: 1rem;
	width: 15rem;
	margin-left: auto !important;
}
.phone-mock{
	/*filter: brightness(85%);*/
	top:-20rem;
	/*left: -1rem;*/
	position: absolute;
	width: 65%;
	max-width: 20rem;
	z-index: -10;
}
</style>
